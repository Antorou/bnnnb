<h2>Réserver la chambre : <%= @room.name %></h2>

<% if @booking.errors.any? %>
  <div style="color: red; margin-bottom: 1em;">
    <h3><%= pluralize(@booking.errors.count, "erreur") %> empêchent cette réservation :</h3>
    <ul>
      <% @booking.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= form_with(model: [@room, @booking]) do |f| %>
  <div>
    <%= f.label :start_date, "Date d'arrivée" %><br>
    <%= f.date_field :start_date, min: Date.today %>
  </div>

  <div>
    <%= f.label :end_date, "Date de départ" %><br>
    <%= f.date_field :end_date %>
  </div>

  <div style="margin-top: 1em;">
    <%= f.submit "Réserver" %>
  </div>
<% end %>

<%= link_to "Annuler", room_path(@room), style: "display: inline-block; margin-top: 1em;" %>
